import{R as i,u as y,a as f,t as b,b as j,c as S,g as v,j as e,s as C,C as k,B as A,A as D,D as R,S as c,T,L as w,O as F}from"./index-DPBpgKE4.js";const I=C(c)(({theme:n})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:n.spacing(2),[n.breakpoints.up("sm")]:{padding:n.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...n.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}})),N=function(){const l=i.useNavigate(),s=i.useSearch(),a=y(),p=f(b,t=>t.setCredentials),o=j({...S,onSubmit:async({value:{node:t,port:d,protocol:u,apiKey:h,env:g}})=>{let r={node:t,port:Number(d),protocol:u,apiKey:h,env:g};const m=v(r);a.loading("authenticating...",{id:"auth"});try{await m.collections().retrieve(),p(r),a.success("Authentication successful",{id:"auth"}),l({to:(s==null?void 0:s.redirect)||"/",replace:!0})}catch(x){console.error(x),a.error("Failed to connect",{id:"auth"})}}});return e.jsx(I,{children:e.jsxs(k,{children:[e.jsx(A,{component:"form",onSubmit:t=>{t.preventDefault(),t.stopPropagation(),o.handleSubmit()},noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2},children:e.jsx(D,{form:o,title:"Login"})}),e.jsx(R,{}),e.jsxs(c,{direction:"row",spacing:1,children:[e.jsx(T,{component:"div",sx:{textAlign:"center"},children:"Don't have an account?"}),e.jsxs(w,{href:"https://typesense.org/",target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignContent:"center",justifyContent:"center"},children:["Typesense ",e.jsx(F,{fontSize:"inherit",sx:{ml:.25}})]})]})]})})};export{N as component};
